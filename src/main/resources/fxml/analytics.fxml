<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.storeapp.ui.AnalyticsController">
    <top>
        <HBox spacing="10.0" alignment="CENTER_LEFT" style="-fx-background-color: #2196F3; -fx-padding: 10px;">
            <Button fx:id="backButton" text="â† Back" onAction="#handleBack" style="-fx-background-color: white; -fx-text-fill: #2196F3;"/>
            <Label text="Analytics Dashboard" style="-fx-font-size: 18px; -fx-text-fill: white;"/>
        </HBox>
    </top>
    
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true">
            <VBox spacing="20.0">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
                </padding>
                
                <!-- Summary Statistics -->
                <HBox spacing="50.0" alignment="CENTER">
                    <VBox alignment="CENTER" spacing="10.0">
                        <Label text="Total Sales" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <Label fx:id="totalSalesLabel" text="0" style="-fx-font-size: 24px;"/>
                    </VBox>
                    
                    <VBox alignment="CENTER" spacing="10.0">
                        <Label text="Total Revenue" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <Label fx:id="totalRevenueLabel" text="0.00" style="-fx-font-size: 24px;"/>
                    </VBox>
                    
                    <VBox alignment="CENTER" spacing="10.0">
                        <Label text="Today's Sales" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <Label fx:id="todaySalesLabel" text="0" style="-fx-font-size: 24px;"/>
                    </VBox>
                    
                    <VBox alignment="CENTER" spacing="10.0">
                        <Label text="Today's Revenue" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <Label fx:id="todayRevenueLabel" text="0.00" style="-fx-font-size: 24px;"/>
                    </VBox>
                </HBox>
                
                <Separator/>
                
                <!-- Charts Section -->
                <HBox spacing="20.0" alignment="CENTER">
                    <!-- Bar Chart: Units Sold by Product -->
                    <VBox spacing="10.0">
                        <Label text="Units Sold by Product" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                        <BarChart fx:id="unitsBarChart" prefWidth="450.0" prefHeight="300.0" legendVisible="false">
                            <xAxis>
                                <CategoryAxis label="Product Name" side="BOTTOM" fx:id="xAxis"/>
                            </xAxis>
                            <yAxis>
                                <NumberAxis label="Units Sold" side="LEFT" fx:id="yAxis"/>
                            </yAxis>
                        </BarChart>
                    </VBox>
                    
                    <!-- Pie Chart: Products by Category -->
                    <VBox spacing="10.0">
                        <Label text="Products by Category (%)" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                        <PieChart fx:id="categoryPieChart" prefWidth="400.0" prefHeight="300.0" legendVisible="true"/>
                    </VBox>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
